<?xml version="1.0"?>
<!--
************************************************************************
H135 T3 P3 Helionix simulation config.

This model of the EC 135 is dedicated to heliflyer aka Georg Vollnhals.
Thanks for all the help!

	This file is part of FlightGear, the free flight simulator
	http://www.flightgear.org/

	Copyright (C) 2011/2012 Heiko Schulz, Heiko.H.Schulz@gmx.net
	modified 2018/2019 by Heiko Schulz, Heiko.H.Schulz@gmx.net

	This program is free software; you can redistribute it and/or
	modify it under the terms of the GNU General Public License as
	published by the Free Software Foundation; either version 2 of the
	License, or (at your option) any later version.

	This program is distributed in the hope that it will be useful, but
	WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
	General Public License for more details.

************************************************************************
-->

<PropertyList include="Aircraft/Generic/Human/Include/walker-include.xml">
	<sim>
		<description>Airbus H135 P3</description>
		<author>(Main Author):  Heiko Schulz ; (3d meshes and objects): Heiko Schulz;  (Textures, animation, config, some liveries): Heiko Schulz ; (FDM): Heiko Schulz;  Maik Justus; (Nasal) Melchior Franz; Heiko Schulz; (Particles): Oliver Thurau;  (Pilot Animation): sanni; (EC 135 P2 instrument enhancements) f-sig;
		(GTX330 improvements): Sebastian Dietrich ; ( Airbus Helionix Screens ) Martin Litzenberger ; (IESI) Joshua Davidson </author>
		<status>early production</status>
		<rating>
                    <FDM type="int">4</FDM>
                    <systems type="int">1</systems>
                     <cockpit type="int">5</cockpit>
                    <model type="int">5</model>
                    </rating>
		<license>GPL v2</license>
		
		<tags>
			<tag>airbus</tag>			
			<tag>helicopter</tag>
			<tag>2-engine</tag>
			<tag>2010s</tag>
		</tags>
		
		<previews>
		    <preview>
			<type>panel</type>
			<splash type="bool">true</splash>
			<path>Pics/h135-interior.jpg</path>
		    </preview>
		    <preview>
			<type>exterior</type>
			<splash type="bool">true</splash>
			<path>Pics/h135-exterior.jpg</path>
		    </preview>
		</previews>
		

		<flight-model>yasim</flight-model>
		<aero>h135p3</aero>
		<fuel-fraction>1.0</fuel-fraction>

		<startup>
			<splash-texture>Aircraft/ec135/h135.png</splash-texture>
		</startup>

		<sound>
			<path>Aircraft/ec135/Sounds/sound.xml</path>
		</sound>

<systems>
 <path>Aircraft/ec135/Systems/systems.xml</path>
<electrical>
                <path></path>
</electrical>
    <autopilot n="0">
            <path>Aircraft/ec135/filter.xml</path>
</autopilot>
	<autopilot n="4">
                <path>Aircraft/ec135/Systems/AFCS.xml</path>
	</autopilot>
<autopilot n="5">
         <name>Helionix instrumentation drivers</name>
         <path>Aircraft/ec135/Models/instrumentation/EUcopter-mfd/XML/filter.xml</path>
      </autopilot>

</systems>
<instrumentation>
<path>Aircraft/ec135/Systems/instrumentation.xml</path>
</instrumentation>

		<multiplay n="0">
			<chat_display>1</chat_display>
			<generic n="0">     
				<float n="0" alias="/position/gear-agl-m"/>										<!-- rotor particles -->
				<float n="1" alias="/orientation/pitch-deg"/>									<!-- rotor particles -->
				<float n="2" alias="/orientation/roll-deg"/>									<!-- rotor particles -->
				<float n="3" alias="/environment/aircraft-effects/wash-strength"/>										<!-- rotor particles -->
				<float n="4" alias="/rotors/main/rpm"/>											<!-- rotor particles - check if needed since it should be standard mp value -->
				
				<int n="1" alias="/gear/gear/ground-is-solid"/>									<!-- rotor particles -->
			</generic>
		</multiplay>


		<model>
		

        <!-- An exit for the walker -->
        <map>
            <default_exit>
                <x-offset-m type="float">2.0</x-offset-m>
                <y-offset-m type="float">2.0</y-offset-m>
            </default_exit>
        </map>
			<path archive="y">Aircraft/ec135/Models/h135.xml</path>
			<variant type="int">1</variant>
			<livery>
			<name type="string">D-HECB</name>
			</livery>
	   	    	<ec135>
				<ftr-button-real type="bool">true</ftr-button-real>
			  <state type="int">0</state>
				<rotor-step-deg type="float">-1.0</rotor-step-deg>
				<AnalogDual type="bool">true</AnalogDual>
				<DigitalDual type="bool">false</DigitalDual>
				<AnalogSingle type="bool">false</AnalogSingle>
				<DigitalSingle type="bool">false</DigitalSingle>	
				<HEMS type="bool">true</HEMS>
				<VIP type="bool">false</VIP>
				<Utility type="bool">false</Utility>
				<hide-gsdi type="bool">true</hide-gsdi>
				<BigRadom type="bool">false</BigRadom>
				<nose type="bool">false</nose><!--nose without frontlight-->
				<!--or-->
				<smallradom type="bool">false</smallradom>
				<!--or-->
				<nosefl type="bool">true</nosefl><!--nose with frontlight-->
				<searchlight_front type="bool">false</searchlight_front><!--only without radom and without nosefl-->
				<searchlight_left type="bool">false</searchlight_left>
				<FLIR type="bool">false</FLIR>
				<windscreen_tri type="bool">true</windscreen_tri>
				<!--or-->
				<windscreen type="bool">false</windscreen>
				<mirror type="bool">false</mirror>
				<wirecutter_up type="bool">false</wirecutter_up>
				<wirecutter_down type="bool">false</wirecutter_down>
				<OilCoolInlet type="bool">true</OilCoolInlet>
				<HighTail type="bool">false</HighTail>
				<IBFFilter type="bool">true</IBFFilter>
				<winch type="bool">false</winch>
				<SLLightR type="bool">false</SLLightR><!--Retractablelanding/SearchlightRight-->
				<SLLightL type="bool">true</SLLightL><!--Retractablelanding/SearchlightLEFT-->
				<loudspeaker type="bool">false</loudspeaker>
				<hellas type="bool">false</hellas>
				<lowskid>0</lowskid>
				<snowboard_lowskid type="bool">false</snowboard_lowskid>
				<wirecutter_skid type="bool">false</wirecutter_skid>
				<!--or-->
				<longskid_floats>0</longskid_floats>
				<emergfloats>0</emergfloats>
				<!--or-->
				<midskid>1</midskid>
				<snowboard_midskid type="bool">false</snowboard_midskid>
				<wirecutter_midskid type="bool">false</wirecutter_midskid>
				<!--or-->
				<highskid>0</highskid>
				<snowboard_highskid type="bool">false</snowboard_highskid>
				<wirecutter_highskid type="bool">false</wirecutter_highskid>
				<!--steps-->
				<standardstep type="bool">true</standardstep>
				<!--or-->
				<multifunctioncarrier type="bool">false</multifunctioncarrier><!--in use with FLIR etc...)-->
				<!--or-->
				<roundstep type="bool">false</roundstep>
				<DoubleCargoHook type="bool">false</DoubleCargoHook>
				<buckle type="bool">true</buckle><!--reardoor_buckle-->
				<!--reardoors-->
				<reardoor_winR type="bool">false</reardoor_winR><!--reardoor with window-->
				<reardoor_winL type="bool">false</reardoor_winL><!--reardoor with window-->
				<reardoorL type="bool">true</reardoorL>
				<reardoorR type="bool">true</reardoorR>
				
				<doors>
					<door>
						<position-norm type="double">0.0</position-norm>
						<name type="string">pilot's door</name>
					</door>

					<door>
						<position-norm type="double">0.0</position-norm>
						<name type="string">copilot's door</name>
					</door>

					<door>
						<position-norm type="double">0.0</position-norm>
						<name type="string">right backdoor</name>
					</door>

					<door>
						<position-norm type="double">0.0</position-norm>
						<name type="string">left backdoor</name>
					</door>

					<door>
						<position-norm type="double">0.0</position-norm>
						<name type="string">right reardoor</name>
					</door>

					<door>
						<position-norm type="double">0.0</position-norm>
						<name type="string">left reardoor</name>
					</door>
				</doors>
				
			</ec135>
		</model>

    <!--<ai>
      <scenario>moveable_helipad_demo</scenario>
    </ai>-->

		
    <rendering>	   
	<refl_correction type="string">-0.33</refl_correction>
	<refl-type>1.0</refl-type>
	<fresnel-factor>0.5</fresnel-factor>
    </rendering>


<airport>
        <runways>
            <start-offset-m>3.3</start-offset-m>
        </runways>
</airport>		

		<!--view-->
		<view n="0">
			<name>Cockpit</name>
			<type>lookfrom</type>
			<internal type="bool">true</internal>
			<config>
                                        <x-offset-m type="double">0.42</x-offset-m><!--left-->
				<y-offset-m type="double">0.60</y-offset-m><!--up-->
				<z-offset-m type="double">1.25</z-offset-m><!--back-->
				<pitch-offset-deg>-20</pitch-offset-deg>
				<default-field-of-view-deg type="double">94.0</default-field-of-view-deg>
				<limits>
                    <enabled type="bool">true</enabled>
                    <left>
                        <heading-max-deg type="double">160</heading-max-deg>
                        <x-offset-max-m type="double">0.20</x-offset-max-m>
                        <x-offset-threshold-deg type="double">45</x-offset-threshold-deg>
                    </left>
                    <right>
                        <heading-max-deg type="double">120</heading-max-deg>
                        <x-offset-max-m type="double">0.20</x-offset-max-m>
                        <x-offset-threshold-deg type="double">65</x-offset-threshold-deg>
                    </right>
                </limits>
			</config>
		</view>

		<view n="1">
			<config>
				<target-z-offset-m archive="y" type="double">3.3</target-z-offset-m>
			</config>
		</view>

		<view n="2">
			<config>
				<target-z-offset-m archive="y" type="double">3.3</target-z-offset-m>
			</config>
		</view>

		<view n="3">
			<config>
				<target-z-offset-m archive="y" type="double">3.3</target-z-offset-m>
			</config>
		</view>

		<view n="4">
			<config>
				<target-z-offset-m archive="y" type="double">3.3</target-z-offset-m>
			</config>
		</view>

		<view n="5">
			<config>
				<target-z-offset-m archive="y" type="double">3.3</target-z-offset-m>
			</config>
		</view>

		<view n="6">
			<config>
				<target-z-offset-m archive="y" type="double">3.3</target-z-offset-m>
			</config>
		</view>
		
		
<view n="100">
    <name>CoPilot</name>
    <internal archive="y">true</internal>
    <type>lookfrom</type>
    <config>
      <from-model type="bool">true</from-model>
      <ground-level-nearplane-m type="double">0.5f</ground-level-nearplane-m>
      <x-offset-m archive="y" type="double">-0.42</x-offset-m>
      <y-offset-m archive="y" type="double">0.60</y-offset-m>
      <z-offset-m archive="y" type="double">1.33</z-offset-m>
	<heading-offset-deg type="double">0</heading-offset-deg>
	<pitch-offset-deg>-20</pitch-offset-deg>
	<default-field-of-view-deg>94</default-field-of-view-deg>
	<dynamic-view type="bool">true</dynamic-view>
                <limits>
                    <enabled type="bool">true</enabled>
                    <left>
                        <heading-max-deg type="double">120</heading-max-deg>
                        <x-offset-max-m type="double">0.2</x-offset-max-m>
                        <x-offset-threshold-deg type="double">0</x-offset-threshold-deg>
                    </left>
                    <right>
                        <heading-max-deg type="double">120</heading-max-deg>
                        <x-offset-max-m type="double">0.2</x-offset-max-m>
                        <x-offset-threshold-deg type="double">0</x-offset-threshold-deg>
                    </right>
                </limits>
    </config>
    </view>
		
		
<view n="101">
    <name>Rearseat frontview</name>
    <internal archive="y">true</internal>
    <type>lookfrom</type>
    <config>
	<from-model type="bool">true</from-model>
	<ground-level-nearplane-m type="double">0.5f</ground-level-nearplane-m>
	<x-offset-m archive="y" type="double">0.42</x-offset-m>
	<y-offset-m archive="y" type="double">0.60</y-offset-m>
	<z-offset-m archive="y" type="double">2.94</z-offset-m>
	<heading-offset-deg type="double">0</heading-offset-deg>
	<pitch-offset-deg>-3</pitch-offset-deg>
	<default-field-of-view-deg>94</default-field-of-view-deg>
	<dynamic-view type="bool">true</dynamic-view>
                <limits>
                    <enabled type="bool">true</enabled>
                    <left>
                        <heading-max-deg type="double">160</heading-max-deg>
                        <x-offset-max-m type="double">0.25</x-offset-max-m>
                        <x-offset-threshold-deg type="double">0</x-offset-threshold-deg>
                    </left>
                    <right>
                        <heading-max-deg type="double">120</heading-max-deg>
                        <x-offset-max-m type="double">0.25</x-offset-max-m>
                        <x-offset-threshold-deg type="double">0</x-offset-threshold-deg>
                    </right>
                </limits>
    </config>
    </view>
		
		
<view n="102">
    <name>Rearseat backview</name>
    <internal archive="y">true</internal>
    <type>lookfrom</type>
    <config>
      <from-model type="bool">true</from-model>
      <ground-level-nearplane-m type="double">0.5f</ground-level-nearplane-m>
      <x-offset-m archive="y" type="double">-0.42</x-offset-m>
      <y-offset-m archive="y" type="double">0.60</y-offset-m>
      <z-offset-m archive="y" type="double">1.94</z-offset-m>
         <heading-offset-deg type="double">180</heading-offset-deg>
	       <default-heading-offset-deg>180</default-heading-offset-deg>
	<pitch-offset-deg>-3</pitch-offset-deg>
	<default-field-of-view-deg>94</default-field-of-view-deg>
	<dynamic-view type="bool">true</dynamic-view>
                <limits>
                    <enabled type="bool">true</enabled>
                    <left>
                        <heading-max-deg type="double">210</heading-max-deg>
                        <x-offset-max-m type="double">0.3</x-offset-max-m>
                        <x-offset-threshold-deg type="double">0</x-offset-threshold-deg>
                    </left>
                    <right>
                        <heading-max-deg type="double">210</heading-max-deg>
                        <x-offset-max-m type="double">0.25</x-offset-max-m>
                        <x-offset-threshold-deg type="double">0</x-offset-threshold-deg>
                    </right>
                </limits>
    </config>
    </view>
    
<view n="103">
    <name>shoulder view</name>
    <internal archive="y">true</internal>
    <type>lookfrom</type>
    <config>
      <from-model type="bool">true</from-model>
      <ground-level-nearplane-m type="double">0.5f</ground-level-nearplane-m>
      <x-offset-m archive="y" type="double">0.10</x-offset-m>
      <y-offset-m archive="y" type="double">0.69</y-offset-m>
      <z-offset-m archive="y" type="double">1.63</z-offset-m>
         <heading-offset-deg type="double">0</heading-offset-deg>
	       <default-heading-offset-deg>0</default-heading-offset-deg>
	<pitch-offset-deg>-3</pitch-offset-deg>
	<default-field-of-view-deg>75</default-field-of-view-deg>
	<dynamic-view type="bool">true</dynamic-view>
                <limits>
                    <enabled type="bool">true</enabled>
                    <left>
                        <heading-max-deg type="double">120</heading-max-deg>
                        <x-offset-max-m type="double">0.3</x-offset-max-m>
                        <x-offset-threshold-deg type="double">0</x-offset-threshold-deg>
                    </left>
                    <right>
                        <heading-max-deg type="double">120</heading-max-deg>
                        <x-offset-max-m type="double">0.3</x-offset-max-m>
                        <x-offset-threshold-deg type="double">0</x-offset-threshold-deg>
                    </right>
                </limits>
    </config>
    </view>
    
<view n="104">
    <name>pilot view from beneath</name>
    <internal archive="y">true</internal>
    <type>lookfrom</type>
    <config>
      <from-model type="bool">true</from-model>
      <ground-level-nearplane-m type="double">0.5f</ground-level-nearplane-m>
      <x-offset-m archive="y" type="double">-0.30</x-offset-m>
      <y-offset-m archive="y" type="double">0.20</y-offset-m>
      <z-offset-m archive="y" type="double">0.80</z-offset-m>
         <heading-offset-deg type="double">243</heading-offset-deg>
	       <default-heading-offset-deg>243</default-heading-offset-deg>
	<pitch-offset-deg>20</pitch-offset-deg>
	<default-field-of-view-deg>77</default-field-of-view-deg>
	<dynamic-view type="bool">true</dynamic-view>
                <limits>
                    <enabled type="bool">true</enabled>
                    <left>
                        <heading-max-deg type="double">120</heading-max-deg>
                        <x-offset-max-m type="double">0.3</x-offset-max-m>
                        <x-offset-threshold-deg type="double">0</x-offset-threshold-deg>
                    </left>
                    <right>
                        <heading-max-deg type="double">120</heading-max-deg>
                        <x-offset-max-m type="double">0.3</x-offset-max-m>
                        <x-offset-threshold-deg type="double">0</x-offset-threshold-deg>
                    </right>
                </limits>
    </config>
    </view>


		<weight n="0">
			<name>Pilot</name>
			<weight-lb>180</weight-lb>
			<max-lb>300</max-lb>
		</weight>

		<weight n="1">
			<name>Co-Pilot</name>
			<weight-lb>180</weight-lb>
			<max-lb>300</max-lb>
		</weight>

		<weight n="2">
			<name>Right Passenger</name>
			<weight-lb>0</weight-lb>
			<max-lb>300</max-lb>
		</weight>

		<weight n="3">
			<name>Middle Passenger</name>
			<weight-lb>0</weight-lb>
			<max-lb>300</max-lb>
		</weight>

		<weight n="4">
			<name>Left Passenger</name>
			<weight-lb>0</weight-lb>
			<max-lb>300</max-lb>
		</weight>

		<weight n="5">
			<name>Load</name>
			<weight-lb>0</weight-lb>
			<max-lb>800</max-lb>
		</weight>
		
		<flight-recorder include="Systems/flight-recorder.xml"/>

		<help>
			<title>H 135 - background and help</title>
			<line></line>
			<line>Informations about the Airbus H135</line>
			<line></line>
			<line>Modelled based on a real EC135 P2 using photorealistic images from "D-HDEC" in 2008 and modifies to match H135</line>
			<line></line>
			<line>Help</line>
			<line></line>
			<line>Startup</line>
			<line></line>
			<line>toggle rotor brake -> press R-key</line>
			<line>Overheadpanel: engage BatMaster ON</line>
			<line>Overhead: switch Anticollisionlight  ON</line>
			<line>Overhead: engage both prime pumps PRIME I + II ON</line>
			<line>Mainpanel: engage Engine switch I into idle</line>
			<line>Mainpanel: watch N1, TRQ, TOT and wait until N1 needle reached more 50%</line>
			<line>Mainpanel: engage now Engine switch II into idle</line>
			<line>Mainpanel: watch N1, TRQ, TOT and wait until both N1 needles reached 74%</line>
			<line>Mainpanel: switch Engine switches I + II into flight</line>
			<line>Overhead: disengage both prime pumps PRIME I + II OFF</line>	
			<line>Overhead: engage both transfer pumps XFER F + B ON</line>
			<line>Navlight, strobes, landlinglights, CAT-A as required</line>
			<line>The H1355 has to fly with SAS engaged all the times- disengaging will usually produce a caution warning on the real thing</line>
			<line></line>
			<line>Landinglight -> l-key (Small L)</line>
			<line>Open/ Close doors -> click the doorse</line>
			<line>Cut AFCS/SAS -> CTR-d-Key</line>
			<line>Engage AFCS/SAS -> CTR-a-key</line>
			<line></line>
		</help>
		
        <menubar include="gui/dialogs/h135-menu.xml"/>

 
		<hitches>
			<!-- make sure some properties do exist, when the list for multiplayer transfere is defined-->
			<!-- they need to be in the same value, as they are initilized in the FDM, to get the same values after reset
    should fix this somehow-->
			<aerotow>
				<tow>
					<length type="float">15</length>
					<elastic-constant type="float">10000</elastic-constant>
					<weight-per-m-kg-m type="float">1</weight-per-m-kg-m>
					<dist type="float">1</dist>
					<connected-to-property-node type="bool"></connected-to-property-node>
					<brake-force type="float">100000</brake-force>
					<connected-to-ai-or-mp-callsign type ="string">*</connected-to-ai-or-mp-callsign>
					<end-force-x type ="float">0</end-force-x>
					<end-force-y type ="float">0</end-force-y>
					<end-force-z type ="float">0</end-force-z>
				</tow>
				<speed-in-tow-direction type="float">0</speed-in-tow-direction>
				<open type="bool">true</open>
				<local-pos-x type="float">0</local-pos-x>
				<local-pos-y type="float">0</local-pos-y>
				<local-pos-z type="float">0</local-pos-z>
				<is-slave type="bool">true</is-slave>
			</aerotow>
		</hitches>

		<!--<menubar>
			<default>
				 <menu n="10">
      <label>H135 P3 T3</label>
      <enabled type="bool">true</enabled>
      <item>
        <label>Select Livery</label>
        <binding>
          <command>nasal</command>
          <script>aircraft.livery.dialog.toggle()</script>
        </binding>
      </item>
      <item>
				<label>Supply External Power</label>
			<binding>
				<command>property-toggle</command>
				<property>/controls/electric/external-power</property>
			</binding>
	</item>
                                                 
												     
					<item>
						<label>Show/hide GSDI</label>
						<binding>
							<command>property-toggle</command>
							<property>/sim/model/hide-gsdi</property>
						</binding>
					</item>
					
					<item>
						<label>TogglePilot</label>
						<binding>
							<command>property-toggle</command>
							<property>/sim/model/hide-pilot</property>
						</binding>
					</item>
	<item>
		<label>Show/hide Rotor Particles</label>
			<binding>
				<command>nasal</command>
				<script>
				var p = "sim/model/rotor-particles";
				setprop(p, var i = !getprop(p));
				gui.popupTip("Rotor Particles visible " ~ (i ? "Off" : "On"));
				</script>
			</binding>
	</item>
				</menu>
			</default>
		</menubar>-->
		

	</sim>
	
<environment>	
	<aircraft-effects>
		<wash-x>0</wash-x>
		<wash-y>0</wash-y>
		<wash-strength>0</wash-strength>
	</aircraft-effects>
</environment>		
	
<limits>
<vne>150</vne>
<MTOW>6570</MTOW>
<MCP>69</MCP>
<MTOP>78</MTOP>
</limits>

	<consumables>
		<fuel>
			<tank>
				<name>Main</name>
				<selected type="bool" write="n">1</selected>
				<density-ppg type="double" write="n">6.682</density-ppg>
			</tank>

			<tank>
				<name>rightSupply</name>
				<selected type="bool" write="n">1</selected>
				<density-ppg type="double" write="n">6.682</density-ppg>
			</tank>
			<tank>
				<name>leftSupply</name>
				<selected type="bool" write="n">2</selected>
				<density-ppg type="double" write="n">6.682</density-ppg>
			</tank>
		</fuel>
	</consumables>


	<controls>
	
			<special>
			<wiper-switch type="int">0</wiper-switch>
			<wiper-deg type="double">-5</wiper-deg>
		</special>
	

		<rotor>
			<brake type ="double">1</brake>
			<reltarget type="double">0</reltarget>
			<maxreltorque type="double">0</maxreltorque>
			<cata type="bool">0</cata>
		</rotor>
		
	<flight>
	<force_trim_release type="bool">false</force_trim_release>
		<input>
			<aileron>0</aileron>
			<elevator>0</elevator>
			<rudder>0</rudder>
		</input>
	</flight>
		

		
	<engines>
	<n2trimfunction>0</n2trimfunction>
			<engine n="0">
				<magnetos>1</magnetos>
				<propeller-pitch alias="/controls/engines/power-trim"/>
				<mixture alias="/controls/engines/power-balance"/>
			</engine>
			<engine n="1">
				<magnetos>1</magnetos>
				<propeller-pitch alias="/controls/engines/power-trim"/>
				<mixture alias="/controls/engines/power-balance"/>
				<throttle alias="/controls/engines/engine[0]/throttle"/>
			</engine>
			<power-trim type="double">0</power-trim>
			<power-balance type="double">0</power-balance>
	</engines>
	
	 <electric>
            <engine n="0">
                <generator type="bool">1</generator>
            </engine>
            <engine n="1">
                <generator type="bool">1</generator>
            </engine>
            <avionics-switch type="bool">1</avionics-switch>
            <battery-switch type="bool">0</battery-switch>
            <inverter-switch type="bool">0</inverter-switch>
            <external-power type="bool">0</external-power>
	 
 <wiper>
  <arc-sec type="double" n="0">0</arc-sec>
            <arc-sec type="double" n="1">1</arc-sec>
            <arc-sec type="double" n="2">0.6</arc-sec>
            <delay-sec type="double" n="0">0</delay-sec>
            <delay-sec type="double" n="1">0</delay-sec>
            <delay-sec type="double" n="2">0</delay-sec>
	                <position-norm type="double">0.45</position-norm>
                      <switch type="int">0</switch>
        </wiper>	 
        </electric>


	</controls>
	
	<systems>
<electrical>	
<outputs>
<transfer-pump-aft>0</transfer-pump-aft>
<transfer-pump-forward>0</transfer-pump-forward>
<prime-pump1>0</prime-pump1>
<prime-pump2>0</prime-pump2>
</outputs>
</electrical>
<acconfig>
<autoconfig-running type="double">1</autoconfig-running>
	<options>
		<iesi-rate type="double">1</iesi-rate>
	</options>
</acconfig>
	</systems>


	<instrumentation>
	<kcs55 include="Systems/kcs55.xml"/>
		<gsdi>
			<serviceable type="bool">true</serviceable>
		</gsdi>
		<hsi>
			<serviceable type="bool" archive="y">true</serviceable>
		</hsi>
		<turn-indicator>
					<serviceable type="bool" archive="y">true</serviceable>
		<spin>1</spin>
		</turn-indicator>
	<GTX330 n="0">
            <serviceable type="bool">true</serviceable>
            <display>IDENT</display>
            <input type="string"/>
        </GTX330>
		
		  <radar-altimeter>
    <serviceable type="bool">true</serviceable>
    <antenna>
      <x-offset-m type="double">0</x-offset-m>
      <y-offset-m type="double">0</y-offset-m>
      <z-offset-m type="double">1.3</z-offset-m>
    </antenna>
  </radar-altimeter>
		
<!--dummy supply bus-->
        <mfdsupply type="float">24</mfdsupply> 
        
<!--            Note: You need to provide these parameters for all 4 Helionix MFDs even if your
                aircraft does not all use them .-->
            
                <mfd n="0">
                  <mode-list type="string">FND,NAVD,VMD,DMAP</mode-list>
                  <pwr-sw-pos type="bool">1</pwr-sw-pos> <!--initial position of the screens power switch-->
                  <supply>instrumentation/mfdsupply</supply>
                </mfd>  
                <mfd n="1">
                  <mode-list type="string">VMD,NAVD,DMAP</mode-list>
                  <pwr-sw-pos type="bool">1</pwr-sw-pos> <!--initial position of the screens power switch-->
                  <supply>instrumentation/mfdsupply</supply>
                </mfd>  
                <mfd n="2">
                  <mode-list type="string">FND,NAVD,VMD</mode-list>
                  <pwr-sw-pos type="bool">1</pwr-sw-pos> <!--initial position of the screens power switch-->
                  <supply>instrumentation/mfdsupply</supply>
                </mfd>  
                <mfd n="3">
                  <mode-list type="string">FND</mode-list>
                  <pwr-sw-pos type="bool">0</pwr-sw-pos> <!--initial position of the screens power switch-->
                  <supply>systems/electrical/outputs/instr-ignition-switch</supply>
                </mfd>  
        
        
        <!--repeat for mfd1 .. mfd3 as needed-->

        <efis>
             <!-- many other elements may live here ... -->
             
             <!-- For the Helionix panels add this to the efis section of the aircraft set file. -->
                  <vmd>
                      <!--
                          Parameters for engine torque calculation in %.
                          This approach is based on normalized power and n2 values and 
                          is independent of engine max. torque or gear-ratios and 
                          uses only the max. continous power rating of the
                          engine.
                    
                          See in YASIM config file for engine power
                          in rotorgear-element : max-power-engine="1100" 
                          = 1100 kW both engines, 550 kW per engine
 
                          torque factor 1/(max. power in Watts) *100 % :
                           1/550 000W * 100 for power in % = 0.000181818 
						   
						   Edit HHS: Assume in dual engine mode every engine can pull up to 82% torque (max allowed is 78%), so:
						   1/(610000) *82%= 0.00013442622. Since both engine add their torque we have to multiply them with 2 = 0.00026885245
						   Litzi don`t multiply, which in my eyes is not correct, as an proove: with my calculation you get in OEI still the correct numbers-->		   
                     
					   <eng-trq-factor type="float">0.00026885245</eng-trq-factor>
					<eng-max-fuelflow-pph> type="float">330</eng-max-fuelflow-pph>
                      <rotor-rpmN type="float">395</rotor-rpmN>                   
                      <nums type="bool">1</nums> <!-- display of VMD numerals on/off -->
                      
                      <!-- set caution ranges for enigines oil temp and pressure gauges -->
                      <oilt-caution-lo-degc type="float">30</oilt-caution-lo-degc>
                      <oilt-caution-hi-degc type="float">120</oilt-caution-hi-degc> 
                      <oilp-caution-lo-bar type="float">1.5</oilp-caution-lo-bar> 
                      <oilp-caution-hi-bar type="float">8</oilp-caution-hi-bar>
                      
                      <!-- set caution ranges for engines -->                      
                      <n2-low type="float">95</n2-low>
                      <n2-hi type="float">105.5</n2-hi>
                      <trq-low type="float">0</trq-low>
                      <trq-hi type="float">69</trq-hi>
                      <n1-low type="float">0</n1-low>
                      <n1-hi type="float">104.3</n1-hi>
                  </vmd>
        </efis> 		
		
		
	</instrumentation>
	


	<input>
		<keyboard>

			
	<key n="100">
	<name>d</name>
	<desc>Set collective to zero</desc>
		<binding>
			<command>nasal</command>
			<script>interpolate("/controls/engines/engine/throttle", 1.0, 1.25)</script>
		</binding>
	</key>
		
  			<key n="84">
				<name>T</name>
				<desc>Autotrim cancel</desc>
				<binding>
					<command>nasal</command>
					<script>
						setprop("controls/flight/elevator-trim",0);
						setprop("controls/flight/aileron-trim",0);
						setprop("controls/flight/rudder-trim",0);
					</script>
				</binding>
			</key>
			<key n="102">
				<name>f</name>
				<desc>Force Trim Release</desc>
				<binding>
					<condition>
					<property>/sim/model/ec135/ftr-button-real</property>
					</condition>
					<command>nasal</command>
					<script>ec135.autotrim.start()</script>
				</binding>
					<binding>
					<condition>
					<property>/sim/model/ec135/ftr-button-real</property>
					</condition>
						<command>property-assign</command>
						<property>controls/flight/force_trim_release</property>
						<value type="bool">true</value>
					</binding>
				<mod-up>
					<binding>
					<condition>
					<property>/sim/model/ec135/ftr-button-real</property>
					</condition>
						<command>nasal</command>
						<script>ec135.autotrim.stop()</script>
					</binding>
					<binding>
					<condition>
					<property>/sim/model/ec135/ftr-button-real</property>
					</condition>
						<command>property-assign</command>
						<property>controls/flight/force_trim_release</property>
						<value type="bool">false</value>
					</binding>
				</mod-up>
					<binding>
					<condition>
					<not>
					<property>/sim/model/ec135/ftr-button-real</property>
					</not>
					</condition>
						<command>property-toggle</command>
						<property>controls/flight/force_trim_release</property>
					</binding>
			</key>

  
  <!--afcs-->
<key n="1">
    <name>ctr-a</name>
    <desc>AP/ BKUP (incl. SAS) ON </desc>
	<binding>
		<command>property-assign</command>
		<property>/autopilot/afcs/control/ap1</property>
		<value>1</value>
	</binding>
	<binding>
		<command>property-assign</command>
		<property>/autopilot/afcs/control/ap2</property>
		<value>1</value>
	</binding>
<binding>
        <command>property-adjust</command>
        <property>/autopilot/afcs/control/rescue-double-click</property>
        <step>1</step>
        <max>3</max>
        <wrap>1</wrap>
      </binding>
  </key>
  
  
<key n="4">
    <name>Ctrl-d</name>
    <desc>AP/ BKUP (incl. SAS) CUT </desc>
	<binding>
		<command>property-assign</command>
		<property>/autopilot/afcs/control/ap1</property>
		<value>0</value>
	</binding>
	<binding>
		<command>property-assign</command>
		<property>/autopilot/afcs/control/ap2</property>
		<value>0</value>
	</binding>
	<binding>
		<command>property-assign</command>
		<property>/controls/flight/fcs/switches/sas</property>
		<value type="double">0</value>
	</binding>
  </key>
  
    <key n="2">
    <name>ctr-b</name>
    <desc>AP UM off </desc>
	<binding>
		<command>property-assign</command>
		<property>/autopilot/afcs/control/alt-mode</property>
		<value type="double">0</value>
	</binding>
	<binding>
		<command>property-assign</command>
		<property>/autopilot/afcs/control/heading-mode</property>
		<value type="double">0</value>
	</binding>
	<binding>
		<command>property-assign</command>
		<property>/autopilot/afcs/control/speed-mode</property>
		<value type="double">0</value>
	</binding>
  </key>
  
  <key n="7">
    <name>ctr-g</name>
    <desc>Go Around Mode </desc>
	<binding>
		<command>property-assign</command>
		<property>/autopilot/afcs/control/alt-mode</property>
		<value type="double">7</value>
	</binding>
  </key>
  
 
<key n="6">
	<name>Ctrl-f</name>
    <desc>GTC.H Mode</desc>
		<binding>
			<command>property-assign</command>
			<property>/autopilot/afcs/control/speed-mode</property>
		<value type="double">3</value>
		</binding>
  </key>
  
   
<key n="49">
    <name>1</name>
    <desc>beep trim up</desc>
<binding>
        <command>property-adjust</command>
        <property>/controls/flight/pitch-deg</property>
        <step>-0.125</step>
        <min>-15</min>
        <wrap>1</wrap>
      </binding>
<binding>
        <command>property-adjust</command>
        <property>/autopilot/afcs/internal/drift-u-kt</property>
        <step>-0.5</step>
        <min>0</min>
        <wrap>1</wrap>
      </binding>
<binding>
        <command>property-adjust</command>
        <property>/autopilot/afcs/settings/target-speed-kt</property>
        <step>-0.5</step>
        <min>0</min>
        <wrap>1</wrap>
      </binding>
  </key>
  
<key n="55">
    <name>7</name>
    <desc>beep trim down</desc>
<binding>
        <command>property-adjust</command>
        <property>/controls/flight/pitch-deg</property>
        <step>0.125</step>
        <max>15</max>
        <wrap>1</wrap>
      </binding>
<binding>
        <command>property-adjust</command>
        <property>/autopilot/afcs/internal/drift-u-kt</property>
        <step>0.5</step>
        <max>140</max>
        <wrap>1</wrap>
      </binding>
<binding>
        <command>property-adjust</command>
        <property>/autopilot/afcs/settings/target-speed-kt</property>
        <step>0.5</step>
        <max>140</max>
        <wrap>1</wrap>
      </binding>
  </key>
  
<key n="60">
    <name></name>
    <desc>beep trim left</desc>
	        <repeatable>true</repeatable>
<binding>
        <command>property-adjust</command>
        <property>/controls/flight/roll-deg</property>
        <step>0.5</step>
        <max>30</max>
        <wrap>1</wrap>
      </binding>
<binding>
        <command>property-adjust</command>
        <property>/autopilot/afcs/internal/drift-v-kt</property>
        <step>0.5</step>
        <max>30</max>
        <wrap>1</wrap>
      </binding>
  </key>
  
<key n="62">
    <name></name>
    <desc>beep trim right</desc>
	        <repeatable>true</repeatable>
<binding>
        <command>property-adjust</command>
        <property>/controls/flight/roll-deg</property>
        <step>-0.5</step>
        <min>-30</min>
        <wrap>1</wrap>
      </binding>
<binding>
        <command>property-adjust</command>
        <property>/autopilot/afcs/internal/drift-v-kt</property>
        <step>-0.5</step>
        <min>-30</min>
        <wrap>1</wrap>
      </binding>
  </key>
  
<!-- light-->
			<key n="108">
				<name>l</name>
				<desc>Landing Light</desc>
				<binding>
					<command>property-toggle</command>
					 <property>controls/lighting/landing-lights</property>
				</binding>
			</key>
			
			<key n="82">
				<name>R</name>
				<desc>Toggle rotor brake</desc>
				<binding>
					<command>nasal</command>
					<script>
						var p = "/controls/rotor/brake";
						setprop(p, !getprop(p));
					</script>
				</binding>
			</key>
			
			<key n="105">
				<name>i</name>
				<desc>Toggle ignition switch</desc>
				<binding>
					<command>nasal</command>
					<script>
						foreach (var e; controls.engines) {
							if (e.selected.getValue()) {
								var i = e.controls.getNode("ignition", 1);
								i.setValue(!i.getValue());
							}
						}
					</script>
				</binding>
			</key>

			<key n="114">
				<name>r</name>
				<desc>Apply rotor brake</desc>
				<binding>
					<command>nasal</command>
					<script>interpolate("/controls/rotor/brake", 1.0, 2)</script>
				</binding>
				<mod-up>
					<binding>
						<command>nasal</command>
						<script>interpolate("/controls/rotor/brake", 0.0, 2)</script>
					</binding>
				</mod-up>
			</key>

			<key n="118">
				<name>Alt-v</name>
				<desc>Toggle dynamic cockpit view</desc>
				<mod-alt>
					<binding>
						<command>property-toggle</command>
						<property>/sim/view/dynamic/enabled</property>
					</binding>
				</mod-alt>
			</key>


			<key n="123">
				<name>{</name>
				<desc>Shutdown Engines</desc>
				<binding>
					<command>nasal</command>
					<script>ec135.shutdown()</script>
					<condition>
						<property>/sim/signals/fdm-initialized</property>
					</condition>
				</binding>
				<!-- <binding>
      <command>nasal</command>
      <script>ec135.cas.toggleEnable();</script>
    </binding>-->
			</key>

			<key n="125">
				<name>}</name>
				<desc>Start Engines</desc>
				<binding>
					<command>nasal</command>
					<script>ec135.startup()</script>
					<condition>
						<property>/sim/signals/fdm-initialized</property>
					</condition>
				</binding>
				<!-- <binding>
      <command>nasal</command>
      <script>ec135.cas.toggleEnable();</script>
    </binding>-->
			</key>
<!-- Disable the following two key bindings because of the walker:
			<key n="23">
			<name>Ctrl-w</name>
			<desc>Place Winch 1000m in front of aircraft</desc>
			<binding>
				<command>property-assign</command>
				<property>/controls/winch/place</property>
				<value type="bool">true</value>
			</binding>
			<mod-up>
				<binding>
					<command>property-assign</command>
					<property>/controls/winch/place</property>
					<value type="bool">false</value>
				</binding>
			</mod-up>
			</key>
			<key n="87">
				<name>W</name>
				<desc>Toggle winch hook</desc>
				<binding>
					<command>nasal</command>
					<script>
						var p = "/sim/hitches/winch/open";
						setprop(p, !getprop(p));
					</script>
				</binding>
			</key>
			<key n="119">
				<name>w</name>
				<desc>Increase winch speed</desc>
				<binding>
					<command>nasal</command>
					<script>interpolate("/sim/hitches/winch/winch/rel-speed", 1.0, 2)</script>
				</binding>
				<mod-up>
					<binding>
						<command>nasal</command>
						<script>interpolate("/sim/hitches/winch/winch/rel-speed", 0.0, 2)</script>
					</binding>
				</mod-up>
			</key>-->
			<key n="15">
				<name>Ctrl-o</name>
				<desc>Find aircraft for aerotow</desc>
				<binding>
					<command>property-assign</command>
					<property>/controls/aerotow/find-aircraft</property>
					<value type="bool">true</value>
				</binding>
				<mod-up>
					<binding>
						<command>property-assign</command>
						<property>/controls/aerotow/find-aircraft</property>
						<value type="bool">false</value>
					</binding>
				</mod-up>
			</key>
			<key n="111">
				<name>o</name>
				<desc>Lock aerotow hook</desc>
				<binding>
					<command>property-assign</command>
					<property>/sim/hitches/aerotow/open</property>
					<value type="bool">false</value>
				</binding>
			</key>
			<key n="79">
				<name>O</name>
				<desc>Open aerotow hook</desc>
				<binding>
					<command>property-assign</command>
					<property>/sim/hitches/aerotow/open</property>
					<value type="bool">true</value>
				</binding>
			</key>

		</keyboard>
	</input>


	<nasal>
	<mfd>
                <file>Aircraft/ec135/Models/instrumentation/EUcopter-mfd/Nasal/mfd.nas</file>
                <file>Aircraft/ec135/Models/instrumentation/EUcopter-mfd/Nasal/masterlist.nas</file>
                <file>Aircraft/ec135/Models/instrumentation/EUcopter-mfd/Nasal/helionix-terrain-map.nas</file>
                <file>Aircraft/ec135//Nasal/masterlist_h135.nas</file>
        </mfd>

<!-- Canvas test-->
     <efis>
         <file>Aircraft/ec135/Models/instrumentation/EUcopter-mfd/PFD.nas</file>
     </efis>

        	
		<ec135>
			<file>Aircraft/ec135/Nasal/afcs.nas</file>
			<file>Aircraft/ec135/Nasal/ground-equipement.nas</file>
			<file>Aircraft/ec135/Nasal/rotor_wash.nas</file>
			<file>Aircraft/ec135/Nasal/externalweights.nas</file>
			<file>Aircraft/ec135/Nasal/fadec.nas</file>
			<file>Aircraft/ec135/Nasal/mk-wiper.nas</file>
			<file>Aircraft/ec135/Nasal/systems.nas</file>
			<file>Aircraft/ec135/Nasal/Electrical.nas</file>
			<!--<file>Aircraft/ec135/Nasal/helicopter-fcs.nas</file>-->
			<file>Aircraft/Generic/helicopter-fcs.nas</file>
			<file>Aircraft/ec135/Nasal/fcs-config.nas</file>
			<file>Aircraft/ec135/Systems/kcs55.nas</file>
			<file>Aircraft/ec135/Nasal/residualthrust.nas</file>
			<file>Aircraft/ec135/Nasal/ec135.nas</file>
			<file>Aircraft/ec135/Nasal/limits.nas</file>
			<file>Aircraft/ec135/Nasal/helper.nas</file>
			<file>Aircraft/ec135/Models/instrumentation/vemd/timer.nas</file>
			<file>Aircraft/ec135/Models/instrumentation/vemd/VEMD.nas</file>
			<file>Aircraft/ec135/Models/instrumentation/vemd/roc.nas</file>
			<file>Aircraft/ec135/Models/instrumentation/dme/ki266.nas</file>
			<script><![CDATA[
	      ki266.new(0);
              KCS55.new();
            ]]></script>
		</ec135>
		<canvas_iesi>
			<file>Aircraft/ec135/Models/instrumentation/IESI/IESI.nas</file>
		</canvas_iesi>	
		
<GTX330>
			<file>Aircraft/ec135/Models/instrumentation/GTX330/GTX330.nas</file>
</GTX330>
	</nasal>


	<rotors>
		<main>
			<rpm type="double">0</rpm>
		</main>
	</rotors>

</PropertyList>
